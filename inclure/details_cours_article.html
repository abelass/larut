#SET{date,#ARRAY}
#SET{horaire,#ARRAY}
#SET{prix,#ARRAY}
#SET{lieu,#ARRAY}
<BOUCLE_evenement(EVENEMENTS){id_article}{inscription=1}>
    #SET{date,#GET{date}|array_merge{#ARRAY{#COMPTEUR_BOUCLE,#DATE_DEBUT|unique|affdate_debut_fin{#DATE_FIN,non}}}}
    #SET{h,#DATE_DEBUT|affdate{H:i}|concat{-#DATE_FIN|affdate{H:i}}}
    [(#GET{h}|in_array{#GET{horaire}}|non)#SET{horaire,#GET{horaire}|array_merge{#ARRAY{#COMPTEUR_BOUCLE,#DATE_DEBUT|affdate{H:i}|concat{-#DATE_FIN|affdate{H:i}}}}}]
    #SET{prix_evenement,#ARRAY}
    <BOUCLE_prix(PRIX_OBJETS){id_objet=#ID_EVENEMENT}{objet=evenement}>
            #SET{prix_evenement,#GET{prix_evenement}|array_merge{#ARRAY{#COMPTEUR_BOUCLE,#PRIX}}}
    </BOUCLE_prix>
    #SET{prix,#GET{prix}|array_merge{#ARRAY{#COMPTEUR_BOUCLE,#GET{prix_evenement}}}} 
    </B_prix>       
    #SET{lieu,#GET{lieu}|array_merge{#ARRAY{#COMPTEUR_BOUCLE,#COMPTEUR_BOUCLE,#ID_EVENEMENT}}}      
</BOUCLE_evenement>

    <BOUCLE_prix_art(PRIX_OBJETS){id_objet=#ID_ARTICLE}{objet=article}{si #GET{prix}|count|<{1}}>
         #SET{prix,#GET{prix}|array_merge{#ARRAY{#COMPTEUR_BOUCLE,#PRIX}}}
    </BOUCLE_prix_art>
    <ul>
        <li><b><:reservation:label_date:></b>[ (#GET{date}|implode{' / '})]</li>
        <li><b><:larut:label_horaire:></b>[ (#GET{horaire}|implode{' / '})]</li>
         <li><b><:larut:label_prix:></b>[ (#GET{prix}|implode{/})]</li>       
    </ul>


        larut:label_horraire   
        larut:label_prix
        agenda:info_lieu  